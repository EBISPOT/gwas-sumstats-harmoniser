params {
reference = null
chromlist = null
harm = null
gwascatalog = null

}


manifest {
    name            = 'EBISPOT/gwas-sumstats-harmoniser'
    defaultBranch   = 'nextflow'
    homePage        = 'https://github.com/EBISPOT/gwas-sumstats-harmoniser/'
    mainScript      = 'main.nf'
}


if (params.reference) {
if (!params.harm & !params.gwascatalog) {
    includeConfig 'config/reference.config'
    if (params.chromlist){
    params.chrom = params.chromlist?.tokenize(',') as List
    }
  }
}

if (params.harm) {
if (!params.reference & !params.gwascatalog) {
    includeConfig 'config/lsf.config'
}
}

if (params.gwascatalog) {
if (!params.harm & !params.reference) {
    includeConfig 'config/gwascatalog.config'
}
}

profiles {
    debug { process.beforeScript = 'echo $HOSTNAME' }
    
    standard {
        process.executor = 'local'
    }
    
    cluster {
        process.executor = 'lsf'
        process.queue = 'short'
    }
    
    docker {
        docker.enabled         = true
        docker.userEmulation   = true
        docker.runOptions      = '-u $(id -u):$(id -g)'
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    
    singularity {
        singularity.enabled    = true
        singularity.autoMounts = true
        docker.enabled         = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
}
